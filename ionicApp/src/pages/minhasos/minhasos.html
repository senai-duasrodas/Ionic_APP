
<ion-header>

  <ion-navbar>
    <ion-title>Minhas OS</ion-title>
  </ion-navbar>

</ion-header>



<ion-content class="contentMinhaos">

  <ion-segment [(ngModel)]="pet" class="segment">
    <ion-segment-button value="Aberto">
      <ion-label class="cortexto">Abertas</ion-label>
    </ion-segment-button>
    <ion-segment-button value="Em Andamento">
      <ion-label class="cortexto">Andamento</ion-label>
    </ion-segment-button>
    <ion-segment-button value="Pause">
        <ion-label class="cortexto">Pausadas</ion-label>
    </ion-segment-button>
  </ion-segment>

<ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
  <ion-refresher-content></ion-refresher-content>
</ion-refresher>
    
    <ion-grid class="contentGridDetalhe" *ngIf="verificaLista();else semOS" >
      <ion-row>
        <ion-col class="contentGridCol">
          <ion-list class="listContent" *ngFor="let item of todasOS">
            <div *ngIf="item.tipoStatus == pet">
              <ion-item no-lines class="itemStyle" (click)="MostraDetalhes(item.idOrdemServico)">
                <h2>Resumo: {{item.resumo}}</h2>
                <p>Inicio Planejado: {{item.inicioPlanejado}}</p>
                <p>Fim Planejado: {{item.fimPlanejado}}</p>
                <span>Status: {{item.tipoStatus}}</span>
              </ion-item>
              <div class="holdBtn">
                <button  type="button" class="campo"(click)="pegaepi(item)">Iniciar</button> 
              </div>
              <ion-item no-lines class="itemStyle" >
                <hr>
              </ion-item>
          </div>
          </ion-list>
        </ion-col>
      </ion-row>
    </ion-grid>

</ion-content>

<ng-template #semOS >
    <div>
      <h3 class="MSGcortexto">Não há nenhuma OS {{pet}}</h3>
  </div>
</ng-template>