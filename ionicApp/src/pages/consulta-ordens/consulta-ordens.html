<!--
  Generated template for the ConsultaOrdensPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Consultar uma ordem</ion-title>
  </ion-navbar>

</ion-header>


<ion-content class="contentConsulta">
  <h4>Consultar ordens</h4>
    <ion-grid class="contentGrid">
      <ion-row>
        <ion-col>
            <form (ngSubmit)="consultOrdem()">
              <ion-item>
                <ion-label>Status Ordem</ion-label>
                  <ion-select [(ngModel)]="statusOrdemSelecionada" name="statusOrdemSelecionada" interface="popover">
                    <ion-option value="{{item.id}}" *ngFor="let item of statusOrdem">{{item.tipoStatus}}</ion-option>
                  </ion-select>
              </ion-item>
              <ion-item>
                <ion-label>Prioridade</ion-label>
                  <ion-select [(ngModel)]="prioridadeSelecionada" name="prioridadeSelecionada" interface="popover">
                    <ion-option value="{{item.id}}" *ngFor="let item of prioridade">{{item.descricaoPrioridade}}</ion-option>
                  </ion-select>
              </ion-item>
              <div class="holdContentSubmit">
                  <div class="holdInput">
                      <button class="campo" type="submit">Consultar</button>
                  </div>
              </div>
            </form>
        </ion-col>
      </ion-row>
    </ion-grid>

    <ion-grid class="contentGridDetalhe" *ngIf="ordem.length > 0" >
      <ion-row>
        <ion-col class="contentGridCol">
          <ion-list class="listContent" *ngFor="let item of ordem">
              <ion-item no-lines class="itemStyle" (click)="telaDetalhamento(item.idOrdemServico)">
                <h2>Resumo: {{item.resumo}}</h2>
                <p>Inicio Planejado: {{item.inicioPlanejado}}</p>
                <p>Fim Planejado: {{item.fimPlanejado}}</p>
                <span>Status: {{item.tipoStatus}}</span>
              </ion-item>
              <ion-item no-lines class="itemStyle" >
                <hr>
              </ion-item>
          </ion-list>
        </ion-col>
      </ion-row>
    </ion-grid>
      <div padding>
        <button ion-button  class="campo" color="primary" (click)="voltarDashboard()">Voltar</button>
      </div>
</ion-content>
